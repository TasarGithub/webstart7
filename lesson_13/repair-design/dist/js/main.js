$(document).ready(function(){var e=$(".modal"),i=$(".modal-thanks"),t=($(".modal__form"),$(".control__form"),$(".footer__form"),$(".control__button"),$(".footer__button"),$('[data-toggle="modal"]')),a=$(".modal-thanks__close"),s=$(".modal__close");document.querySelectorAll('[data-close="modal"]'),document.querySelector(".modal");$(".fantasies__item").each(function(e,i){$(i).click(function(e){switch($(i).attr("data-index")){case"1":a("1"),t(),$(".fantasies__item:nth-child(1)").toggleClass("fantasies__marker");break;case"2":a("2"),t(),$(".fantasies__item:nth-child(2)").toggleClass("fantasies__marker");break;case"3":a("3"),t(),$(".fantasies__item:nth-child(3)").toggleClass("fantasies__marker");break;case"4":a("4"),t(),$(".fantasies__item:nth-child(4)").toggleClass("fantasies__marker");break;case"5":a("5"),t(),$(".fantasies__item:nth-child(5)").toggleClass("fantasies__marker");break;case"6":a("6"),t(),$(".fantasies__item:nth-child(6)").toggleClass("fantasies__marker");break;case"7":a("7"),t(),$(".fantasies__item:nth-child(7)").toggleClass("fantasies__marker");break;case"8":a("8"),t(),$(".fantasies__item:nth-child(8)").toggleClass("fantasies__marker");break;case"9":a("9"),t(),$(".fantasies__item:nth-child(9)").toggleClass("fantasies__marker");break;case"10":a("10"),t(),$(".fantasies__item:nth-child(10)").toggleClass("fantasies__marker");break;case"11":a("11"),t(),$(".fantasies__item:nth-child(11)").toggleClass("fantasies__marker")}function t(){$(".fantasies__item").each(function(e,i){$(i).hasClass("fantasies__marker")&&$(i).removeClass("fantasies__marker")})}function a(e){$(".tab-content img").each(function(i,t){var a=$(t).attr("src");a=a.slice(0,a.indexOf("-")+1)+e+a.slice(a.indexOf(".")),$(t).attr("src",a)})}})}),$('[data-close="modal"]').each(function(e,i){console.log("item: ",i),$(i).click(function(e){var i=e.target;$(i).hasClass("modal--visible")&&$(i).removeClass("modal--visible")}),$(document).keydown(function(e){"Escape"===e.code&&$(i).hasClass("modal--visible")&&$(i).removeClass("modal--visible")})}),t.on("click",function(){$(".modal__form").css("display","flex"),$(".modal__title").css("display","block"),$(".modal__thanks-block").css("display","none"),$(".modal__form").css("opacity",1),$(".modal__title").css("opacity",1),e.toggleClass("modal--visible")}),s.on("click",function(){e.removeClass("modal--visible")}),a.on("click",function(){i.removeClass("modal--visible")});new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var r=$(".swiper-button-next"),n=$(".swiper-button-prev"),o=$(".swiper-pagination");function l(e){e.target.playVideo()}r.css("left",n.width()+6+o.width()+32),o.css("left",n.width()+21),(new WOW).init(),$.validator.methods.email=function(e,i){return this.optional(i)||/[A-z0-9._]+@[A-z0-9.-]+\.[a-z]+/.test(e)},$(".modal__form").validate({errorClass:"invalid",errorElement:"div",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:17},userEmail:{required:!0,email:!0},modalPolicyCheckbox:{required:!0}},messages:{userName:{required:"Заполните поле",minlength:"Имя не короче двух букв",maxlength:"Имя не длинее 15ти букв"},userPhone:{required:"Заполните поле",minlength:"Введите корректный телефон"},userEmail:{required:"Заполните поле",email:"Введите корректный email"},modalPolicyCheckbox:{required:"Заполните поле"}},submitHandler:function(t){$.ajax({type:"POST",url:"send.php",data:$(t).serialize(),success:function(t){$("form")[3].reset(),e.removeClass("modal--visible"),i.toggleClass("modal--visible"),ym(62095768,"reachGoal","sendForm")},erorr:function(e){console.error("Ошибка запроса"+e)}})}}),$(".control__form").validate({errorClass:"invalid",errorElement:"div",rules:{userNameControl:{required:!0,minlength:2,maxlength:15},userPhoneControl:{required:!0,minlength:17},userEmailControl:{required:!0,email:!0},controlPolicyCheckbox:{required:!0}},messages:{userNameControl:{required:"Заполните поле",minlength:"Имя не короче двух букв",maxlength:"Имя не длинее 15ти букв"},userPhoneControl:{required:"Заполните поле",minlength:"Исправьте телефон"},userEmailControl:{required:"Заполните поле",email:"Исправьте email"},controlPolicyCheckbox:{required:"Заполните поле"}},submitHandler:function(e){$.ajax({type:"POST",url:"send.php",data:$(e).serialize(),success:function(e){i.toggleClass("modal--visible"),$("form")[0].reset(),ym(62095768,"reachGoal","sendForm")}})}}),$(".metering__form").validate({errorClass:"invalid",errorElement:"div",rules:{userNameMetering:{required:!0,minlength:2,maxlength:15},userPhoneMetering:{required:!0,minlength:17},userEmailMetering:{required:!0,email:!0},meteringPolicyCheckbox:{required:!0}},messages:{userNameMetering:{required:"Заполните поле",minlength:"Имя не короче двух букв",maxlength:"Имя не длинее 15ти букв"},userPhoneMetering:{required:"Заполните поле",minlength:"Исправьте телефон"},userEmailMetering:{required:"Заполните поле",email:"Исправьте email"},meteringPolicyCheckbox:{required:"Заполните поле"}},submitHandler:function(t){$.ajax({type:"POST",url:"send.php",data:$(t).serialize(),success:function(t){$("form")[1].reset(),e.removeClass("modal--visible"),i.toggleClass("modal--visible"),ym(62095768,"reachGoal","sendForm")},erorr:function(e){console.error("Ошибка запроса"+e)}})}}),$(".footer__form").validate({errorClass:"invalid",errorElement:"div",rules:{userNameFooter:{required:!0,minlength:2,maxlength:15},userPhoneFooter:{required:!0,minlength:17},footerPolicyCheckbox:{required:!0}},messages:{userNameFooter:{required:"Заполните поле",minlength:"Имя не короче двух букв",maxlength:"Имя не длинее 15ти букв"},userPhoneFooter:{required:"Заполните поле",minlength:"Введите корректный телефон"},footerPolicyCheckbox:{required:"Заполните поле"}},submitHandler:function(e){$.ajax({type:"POST",url:"send.php",data:$(e).serialize(),success:function(e){$("form")[2].reset(),i.toggleClass("modal--visible"),ym(62095768,"reachGoal","sendForm")}})}}),$("[type=tel]").mask("+7(000) 000-00-00"),$(".video__play").on("click",function(){new YT.Player("player",{height:"465",width:"100%",videoId:"TvVYeLvujLk",events:{onReady:l}})}),function(){const e=document.querySelector(".totop"),i=document.querySelector(".hero");e.style.opacity=0;const t=i.offsetTop;window.addEventListener("scroll",function(){window.pageYOffset>t?e.style.opacity=1:e.style.opacity=0})}(),$("#totop").click(function(){var e=$(document).scrollTop()/1.73;$("body,html").animate({scrollTop:0},e)});const m=new Swiper(".six-step__swiper-container",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var c=$(".six-step__swiper-button-next"),d=$(".six-step__swiper-button-prev"),u=$(".six-step__swiper-pagination");c.css("left",d.width()+6+u.width()+32),u.css("left",d.width()+21),$(".six-step__swiper-menu").on("click",".six-step__swiper-menu-item",function(){const e=$(this).data("index");m.slideTo(e)}),m.on("transitionEnd",function(){var e=$("#six-step__first");e.fadeTo(1,0),$("#six-step__first").text(m.realIndex+1),e.fadeTo(700,1),$(".six-step__swiper-menu-item").fadeTo(1,.3),$(".six-step__swiper-menu-item").each(function(e,i){e===m.realIndex&&$(i).fadeTo(700,1)})})});